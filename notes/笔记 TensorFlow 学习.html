<html>
<head>
  <title>笔记 TensorFlow 学习</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/600240 (zh-CN, DDL); Windows/10.0.0 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="6194"/>
<h1>笔记 TensorFlow 学习</h1>

<div>
<span><div><div>安装：</div><ul><li><div><a href="https://www.tensorflow.org/install/install_windows">官方安装教程</a></div></li></ul><ul><li><div><a href="https://support.amd.com/en-us/kb-articles/Pages/AMDGPU-PRO-Install.aspx">How-To Install/Uninstall AMD Radeon™ Software AMDGPU-PRO Driver for Linux® on an Ubuntu System</a>：显卡驱动安装、卸载</div></li><li><div><a href="https://gpuopen.com/rocm-tensorflow-1-8-release/">AMD GPU安装</a>：仅支持linux</div></li><ul><li><div>新闻：</div></li><ul><li><div><a href="https://medium.com/tensorflow/amd-rocm-gpu-support-for-tensorflow-33c78cc6a6cf">AMD ROCm GPU support for TensorFlow</a>：20180828新闻</div></li><ul><li><div><a href="http://www.atyun.com/27894.html">AMD的ROCm GPU现已支持TensorFlow</a>：翻译</div></li></ul><li><div><a href="https://www.tensorflowers.cn/t/6514">AMD ROCm GPU，支持 TensorFlow</a>：中文新闻</div></li></ul><li><div><a href="http://histosci.xyz/2018/07/22/TensorFlow-AMD/">TensorFlow通过AMD GPU加速（ROCm/Ubuntu 18.04)</a>：中文安装流程，Ubuntu 18.04，有问题</div></li><li><div>在训练过程中电源有电流声，长时间运行出现假死问题（鼠标可移动，不能点，界面卡住）</div></li><ul><li><div>根据windows平台的测试，223W功率运行的显卡核心频率在1200MHz左右，但在linux下运行tensorflow时，核心频率达到1600MHz</div></li><li><div>尝试通过<a href="https://github.com/marazmista/radeon-profile">radeon-profile</a>设置频率限制</div></li><li><div>通过<a href="https://www.maketecheasier.com/overclock-amd-gpu-linux/">amdgpu_pm_info</a>查看linux下运行时功率不到150W，可能不够准确</div></li><li><div>通过<a href="https://rocm-documentation.readthedocs.io/en/latest/ROCm_System_Managment/ROCm-System-Managment.html">ROCm System Management</a>设置--setsclk参数：mask为两个时固定在第二个，为两个以上时固定在最高状态</div></li><ul><li><div>rocm-smi + Vega 64：提到了setsclk的问题，但不同</div></li></ul></ul></ul><li><div>AMDGPU-pro显卡驱动：</div></li><ul><li><div>下载/文档：</div></li><ul><li><div><a href="https://www.amd.com/zh-hans/support/graphics/radeon-rx-vega-series/radeon-rx-vega-series/radeon-rx-vega-56">Radeon™ RX Vega 56 Drivers &amp; Support</a></div></li><li><div><a href="https://www.amd.com/en/support/kb/release-notes/rn-prorad-lin-18-30">Radeon™ Software for Linux® 18.30 Release Notes</a></div></li><li><div><a href="https://amdgpu-install.readthedocs.io/en/amd-18.30/">Radeon™ Software for Linux® Installation</a></div></li></ul><li><div>监控：</div></li><ul><li><div><a href="https://askubuntu.com/questions/460926/is-there-a-gui-for-configuring-the-radeon-open-source-drivers-and-mesa-3d-simila">Is there a GUI for configuring the Radeon Open Source Drivers and Mesa 3D similar to Catalyst Control Center?</a></div></li><ul><li><div><a href="https://github.com/marazmista/radeon-profile">radeon-profile</a>：可用</div></li></ul><li><div><a href="https://github.com/clbr/radeontop">radeontop</a></div></li></ul><li><div>设置：</div></li><ul><li><div><a href="https://www.maketecheasier.com/overclock-amd-gpu-linux/">How to Overclock Your AMD GPU with AMDGPU on Linux</a>：amdgpu_pm_info查看gpu功率、频率</div></li><li><div>调参：</div></li><ul><li><div><a href="https://www.phoronix.com/forums/forum/linux-graphics-x-org-drivers/amd-linux/918649-underclocking-undervolting-the-rx-470-with-amdgpu-pro-success">Underclocking/undervolting the RX 470 with AMDGPU-PRO : success</a>：修改VBIOS</div></li><li><div><a href="https://rocm-documentation.readthedocs.io/en/latest/ROCm_System_Managment/ROCm-System-Managment.html">ROCm System Management</a>：查看、修改参数</div></li><ul><li><div><a href="https://github.com/RadeonOpenCompute/ROC-smi">github</a></div></li></ul><li><div><a href="https://github.com/RadeonOpenCompute/ROCm/issues/463">Vega 56/64 overclock/undervolt under ROCm and upstream Linux kernels in Ubuntu 16.04/18.04</a>：没有尝试</div></li><li><div><a href="https://www.reddit.com/r/Amd/comments/8weeln/you_can_undervolt_vegas_in_linux_now/">You can undervolt Vega's in Linux now.</a>：没有尝试</div></li></ul></ul></ul><ul><li><div>文档：貌似都是第三方的</div></li><ul><li><div><a href="https://help.ubuntu.com/community/RadeonDriver">RadeonDriver ubuntu documentation</a>：</div></li><ul><li><div>如何启动Power Management（DPM 、Dynamic Power Management)）</div></li><li><div>man radeon：查看手册</div></li></ul><li><div><a href="https://wiki.gentoo.org/wiki/AMDGPU">AMDGPU gentoo linux</a></div></li><li><div><a href="https://wiki.archlinux.org/index.php/AMDGPU">AMDGPU archlinux</a></div></li></ul><li><div>安装过程中报错“正试图覆盖 /etc/modprobe.d/blacklist-radeon.conf，它同时被包含于软件包 rock-dkms 1.9-211”</div></li><ul><li><div><a href="https://community.amd.com/thread/229198">ROCm installation failure with amdgpu-pro 18.10 driver installed.</a></div></li><li><div><a href="http://www.kbase101.com/question/8962.html">强制apt-get覆盖另一个包安装的文件</a></div></li><li><div><a href="https://amdgpu-install.readthedocs.io/en/amd-18.30/install-script.html#adding-advanced-package-management-functionality">Adding Advanced Package Management Functionality</a>：提到可以将apt参数提供给amdgpu-pro-install，搭配上面的--force-overwrite？、】</div></li></ul></ul><li><div>虚拟机：</div></li><ul><li><div><a href="https://blog.csdn.net/nothinglefttosay/article/details/45095125">虚拟机 virtualbox 安装 CUDA 可行性说明</a>：虚拟化GPU</div></li><li><div><a href="https://blogs.vmware.com/performance/2011/10/gpgpu-computing-in-a-vm.html">GPGPU Computing in a VM</a>：VMware ESX支持GPGPU运算</div></li><li><div><a href="https://www.dell.com/support/article/cn/zh/cndhs1/sln288103/%E5%A6%82%E4%BD%95%E5%90%AF%E7%94%A8vmware%E8%99%9A%E6%8B%9F%E6%9C%BAgpu%E7%9A%84%E7%9B%B4%E9%80%9A-?lang=zh">如何启用VMware虚拟机GPU的直通</a>（Pass-through）：根据<a href="https://www.vmware.com/resources/compatibility/search.php?deviceCategory=vsga">VMware Compatibility Guide</a>，不支持vega，但搜索vega passthrough有很多结果</div></li></ul></ul><div>教程：</div><ul><li><div><a href="https://www.tensorflow.org/tutorials/">官方教程</a></div></li></ul><div><a href="https://www.tensorflow.org/api_docs/python/tf">文档</a>：</div><ul><li><div>基本运算：</div></li><ul><li><div><a href="https://www.tensorflow.org/api_docs/python/tf/nn/conv2d">tf.nn.conv2d</a></div></li><li><div><a href="https://www.tensorflow.org/performance/xla/broadcasting">Broadcasting semantics</a>：与numpy类似的广播机制</div></li><li><div><a href="https://www.tensorflow.org/api_docs/python/tf/nn/sparse_softmax_cross_entropy_with_logits">tf.nn.sparse_softmax_cross_entropy_with_logits</a>：softmax损失函数</div></li><li><div><a href="https://www.tensorflow.org/api_docs/python/tf/reduce_mean">tf.reduce_mean</a></div></li></ul><li><div>可通过三种程度API实现网络：</div></li><ul><li><div>对比：</div></li><ul><li><div><img src="笔记 TensorFlow 学习_files/Image.png" type="image/png" data-filename="Image.png"/></div></li></ul><li><div>Barebone（通过底层操作实现网络）：</div></li><ul><li><div><a href="https://www.tensorflow.org/api_docs/python/tf/gradients">tf.gradients</a>：计算梯度</div></li><li><div><a href="https://www.tensorflow.org/api_docs/python/tf/assign_sub">tf.assign_sub</a>：通过减更新参数</div></li><li><div><a href="https://www.tensorflow.org/api_docs/python/tf/control_dependencies">tf.control_dependencies</a>：？类似于绑定回调函数？</div></li></ul><li><div><a href="https://keras.io/zh/">Keras</a>：一个用 Python 编写的高级神经网络 API，它能够以 TensorFlow, CNTK, 或者 Theano 作为后端运行。支持快速的实验，能够以最小的时延把你的想法转换为实验结果</div></li><ul><li><div>Keras Model API（tf.keras.Model）：</div></li><ul><li><div><a href="https://www.tensorflow.org/api_docs/python/tf/variance_scaling_initializer">tf.variance_scaling_initializer</a>：初始化参数</div></li><li><div><a href="https://www.tensorflow.org/api_docs/python/tf/layers/Conv2D">tf.layers.Conv2D</a>：面向对象的卷积层接口，同时有对应的函数接口</div></li><li><div><a href="https://www.tensorflow.org/api_docs/python/tf/layers/Dense">tf.layers.Dense</a>：面向对象的全连接层接口</div></li><li><div><a href="https://www.tensorflow.org/api_docs/python/tf/train/Optimizer">tf.train.Optimizer</a></div></li><ul><li><div><a href="https://www.tensorflow.org/api_docs/python/tf/train/GradientDescentOptimizer">tf.train.GradientDescentOptimizer</a></div></li><li><div><a href="https://www.tensorflow.org/api_docs/python/tf/train/MomentumOptimizer">tf.train.MomentumOptimizer</a></div></li></ul></ul></ul><li><div><a href="https://keras.io/zh/models/sequential/">Sequential 模型 API</a>（tf.keras.Sequential）</div></li></ul></ul><div>总结：</div><ul><li><div>自动求导，只用定义前向运算</div></li><li><div>通过sess.run计算定义后的计算图，输入和输出数据</div></li><li><div>tf.Variable用以保存网络中的参数，是可调可存储的</div></li><li><div>继承tf.keras.Model来定义网络，实例化后使用</div></li><li><div>面向对象的API：tf.layers.Dense等；函数式API：tf.layers.dense等</div></li></ul></div><div><br/></div></span>
</div></body></html> 